
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>How Data is Stored &#8212; Developing with QIIME 2</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=d05ccb96" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=ccdb6887"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'framework/explanations/data-storage';</script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Anatomy of an Archive" href="archives.html" />
    <link rel="prev" title="QIIME 2 architecture overview" href="architecture.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/dwq2-light.png" class="logo__image only-light" alt="Developing with QIIME 2 - Home"/>
    <img src="../../_static/dwq2-dark.png" class="logo__image only-dark pst-js-only" alt="Developing with QIIME 2 - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Plugins 🔌</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../plugins/intro.html">Plugin Development</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../plugins/tutorials/intro.html">Tutorial: A step-by-step guide to building your first QIIME 2 plugin</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/create-from-template.html">Create your plugin from a template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/add-nw-align-method.html">Add a first (real) Method</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/add-alignment-visualizer.html">Add a first Visualizer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/add-artifact-class.html">Add a new Artifact Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/add-usage-examples.html">Add a Usage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/add-2nd-transformer.html">Add a second transformer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/add-pipeline.html">Add a first Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/add-parallel-pipeline.html">Add a Pipeline with parallel computing support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/integrate-metadata.html">Integrate metadata in Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/tutorials/conclusion.html">Conclusion</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../plugins/how-to-guides/intro.html">How-To Guides</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/set-up-development-environment.html">Set up your development environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/distribute-on-gh.html">Distribute plugins on GitHub</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/distribute-on-library.html">Distribute plugins on QIIME 2 Library</a></li>

<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/support-your-users.html">Provide technical support for your users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/maximize-compatibility.html">Maximize compatibility between your plugin(s) and existing QIIME 2 distribution(s)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/facilitate-installation.html">Facilitating installation of your plugin for users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/automate-testing.html">Automate testing of your plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/publicize.html">Publicize your QIIME 2 plugins (or other QIIME 2-based tools)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/register-a-plugin.html">Register a QIIME 2 plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/create-register-method.html">Create and register a Method</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/create-register-visualizer.html">Create and register a visualizer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/create-register-pipeline.html">Create and register a pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/create-register-transformer.html">Creating and registering a Transformer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/artifact-collections-as-io.html">Use Artifact Collections as Action inputs or outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/play-nicely-with-others.html">How to play nicely with other plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/use-metadata.html">How to use Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/test-plugins.html">How to test QIIME 2 plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/usage-examples.html">Writing Usage Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/format-validation-levels.html">Defining different Format validation levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/how-to-guides/handle-exceptions-in-parallel-pipelines.html">Handling exceptions in parallel Pipelines</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../plugins/explanations/intro.html">Explanations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/explanations/actions.html">Types of QIIME 2 Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/explanations/package-structure.html">The structure of QIIME 2 plugin packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/explanations/types-of-types.html">Semantic types, data types, file formats, and artifact classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/explanations/transformers.html">Transformers</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../plugins/references/intro.html">References</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/references/antipatterns.html">Plugin development anti-patterns</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../plugins/references/api/intro.html">Plugin Development API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../plugins/references/api/plugin.html">Plugin &amp; Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugins/references/api/formats.html">Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugins/references/api/types.html">Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugins/references/api/citations.html">Citations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugins/references/api/testing.html">Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugins/references/api/utils.html">Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugins/references/api/context.html">Pipeline Context Object</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugins/references/api/usage.html">Usage Examples</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins/references/metadata-api.html">User Metadata API</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Interfaces 🧩</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../interfaces/intro.html">Interface Development</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../interfaces/references/intro.html">References</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/references/api.html">Interface developer API reference</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">The Framework 🌳</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../intro.html">Framework Development</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="intro.html">Explanations</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="architecture.html">QIIME 2 architecture overview</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">How Data is Stored</a></li>
<li class="toctree-l3"><a class="reference internal" href="archives.html">Anatomy of an Archive</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html">Semantic Types, Primitives, and Visualizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="formats.html">File Formats and Directory Formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="provenance.html">Decentralized retrospective provenance tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="garbage-collection.html">Garbage Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="metaprogramming.html">Metaprogramming</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../references/intro.html">References</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../references/archive-versions.html">Archive versions</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Documentation 📚</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../docs/intro.html">Docs Development</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../docs/user-documentation.html">User documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../docs/developer-documentation.html">Developer documentation</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Continuous Integration 🛠️</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../ci/intro.html">Distribution Development</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Back Matter 🗂️</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../back-matter/intro.html">Back matter</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../back-matter/glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../back-matter/bibliography.html">List of works cited</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../back-matter/genindex.html">Index</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/framework/explanations/data-storage.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>How Data is Stored</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#goals-for-data-storage-in-qiime-2">Goals for data storage in QIIME 2</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessibility-and-transferability">Accessibility and Transferability</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#input-validation-type-checking">Input Validation (Type Checking)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interoperability-and-extension">Interoperability and Extension</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#provenance-metadata">Provenance Metadata</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="how-data-is-stored">
<span id="data-storage"></span><h1>How Data is Stored<a class="headerlink" href="#how-data-is-stored" title="Link to this heading">#</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Some of the discussion in this section uses <em>semantic type</em> as a synonym for <a class="reference internal" href="../../back-matter/glossary.html#term-Artifact-class"><span class="xref std std-term">artifact class</span></a>.
While closely related, we’re working on clarifying our language to distinguish these ideas.
We haven’t reviewed/updated this section for this yet.</p>
</div>
<p>In any software project, data needs to be stored (or persisted).
The way that this is accomplished can impact every facet of the software’s design.
In order to better demonstrate <em>why</em> certain aspects of QIIME 2 exist as they are we will highlight what goals or constraints QIIME 2 has, and then demonstrate how QIIME 2 achieves each goal.</p>
<section id="goals-for-data-storage-in-qiime-2">
<h2>Goals for data storage in QIIME 2<a class="headerlink" href="#goals-for-data-storage-in-qiime-2" title="Link to this heading">#</a></h2>
<p>The design of QIIME 2’s approach to data storage was motivated by the following goals, which we consider to be contraints.
Data should be stored in a way that:</p>
<ul class="simple">
<li><p>is accessible long-term (e.g. 20 years), or “future-proof”</p></li>
<li><p>is as convenient as possible to transfer between users</p></li>
<li><p>makes it possible to determine when data is or is not valid as input for a specific analysis</p></li>
<li><p>ease interoperability between tools</p></li>
<li><p>can be extended by plugins</p></li>
<li><p>and include details on its origin and history (provenance), facilitating trust and reproducibility.</p></li>
</ul>
<p>These goals directly impact many of the design decisions made in QIIME 2.
The solution described in this section seeks to address each of these goals.
There are many other ways to solve these problems when one or more of these constraints are lifted, however QIIME 2 chooses these constraints because we believe they are <em>useful</em> to the scientist, will allow <em>composable</em> software to be developed and reused to advance the state of the art, and support <a class="reference external" href="https://www.go-fair.org/fair-principles/">FAIR data principles</a>.</p>
<section id="accessibility-and-transferability">
<h3>Accessibility and Transferability<a class="headerlink" href="#accessibility-and-transferability" title="Link to this heading">#</a></h3>
<p>QIIME 2 stores all data as a directory structure inside of a ZIP file.
There is a <a class="reference internal" href="../../back-matter/glossary.html#term-Payload"><span class="xref std std-term">payload</span></a> directory named <code class="docutils literal notranslate"><span class="pre">/data/</span></code> where data is stored in a common format. This permits additional <em>metadata</em> to be stored alongside the data (in non-<code class="docutils literal notranslate"><span class="pre">/data/</span></code> directories or files).</p>
<p>A directory-based archive is used to store data in a way that is accessible.
When a common format exists for a data type (e.g., FASTA format for sequence data) it should be used to be as accessible as possible.
When such a format does not exist, it should be stored in plain-text structure that is as self-descriptive as possible.
The goals is that a person in 20 years might be able to glance at it, and roughly understand what the purpose of a given document is (assuming file-systems and text-based encodings still make sense in the future).</p>
<p>Because some common formats are paired with others, or reused multiple times to represent multiple entities (e.g. per-sample fastq files), the data that a tool needs is sometimes a <em>directory</em> of formats.
Alternatively a new format could be invented with new rules (though this would make interoperability difficult).</p>
<p>For these reasons, QIIME 2 stores data as a directory structure.
In particular data such as FASTA or newick will be considered the <a class="reference internal" href="../../back-matter/glossary.html#term-Payload"><span class="xref std std-term">Payload</span></a> which is to be delivered to a tool.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>QIIME 2’s <code class="docutils literal notranslate"><span class="pre">.qza</span></code> and <code class="docutils literal notranslate"><span class="pre">.qzv</span></code> files are ZIP files with a specific internal structure.
You can open these with any standard unzip utility (e.g., WinZip, 7zip, <code class="docutils literal notranslate"><span class="pre">unzip</span></code>), even on systems that don’t have QIIME 2 installed.</p>
</div>
</aside>
<p>There is a challenge with using directory structures as a way of storing data.
Moving directory structures is inconvenient as they do not exist as a single file.
A common way to fix this is to zip a file and extract it at the destination.
This is exactly what QIIME 2 does.
ZIP files additionally have the advantage of being incredibly well supported by a <em>wide</em> array of software.
Some software manipulates ZIP files directly (often built into an operating system’s graphical interface) and others use ZIP files as a backing structure (such as <code class="docutils literal notranslate"><span class="pre">.docx</span></code> and <code class="docutils literal notranslate"><span class="pre">.epub</span></code>).
Because it is so widely used, maintaining the long-term accessibility of data is much more likely.</p>
<p>The following documents provide more detailed information about directory structure and ZIP file used in QIIME 2 <code class="docutils literal notranslate"><span class="pre">Archives</span></code>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="archives.html#archive-anatomy"><span class="std std-ref">Anatomy of an Archive</span></a></p></li>
<li><p><a class="reference internal" href="../references/archive-versions.html#archive-versions"><span class="std std-ref">Archive versions</span></a></p></li>
</ul>
</section>
<section id="input-validation-type-checking">
<h3>Input Validation (Type Checking)<a class="headerlink" href="#input-validation-type-checking" title="Link to this heading">#</a></h3>
<p>QIIME 2 stores a file named <code class="docutils literal notranslate"><span class="pre">metadata.yaml</span></code> alongside the <code class="docutils literal notranslate"><span class="pre">/data/</span></code> directory.
This file contains the <a class="reference internal" href="../../back-matter/glossary.html#term-Type"><span class="xref std std-term">type</span></a> of the data, which QIIME 2 can use to validate that a given ZIP file is valid input for a given <a class="reference internal" href="../../back-matter/glossary.html#term-Action"><span class="xref std std-term">action</span></a>.</p>
<p>Given that a QIIME 2 <code class="docutils literal notranslate"><span class="pre">Archive</span></code> provides a way to store a <a class="reference internal" href="../../back-matter/glossary.html#term-Payload"><span class="xref std std-term">payload</span></a> (i.e., data) and a way to move it around, there needs to be a way to <em>describe</em> it so that the computer can determine if a given payload is valid input for a given operation.
This helps prevent user errors due to accidental misuse of the data, and allows <a class="reference internal" href="../../back-matter/glossary.html#term-Interface"><span class="xref std std-term">interfaces</span></a> to provide a more complete and rich user interface.</p>
<p>To accomplish this, we need data about the data, or <em>metadata</em> (in the general sense, this should not be confused with QIIME 2’s sample/feature metadata).
If the <a class="reference internal" href="../../back-matter/glossary.html#term-Payload"><span class="xref std std-term">payload</span></a> is placed in a <em>subdirectory</em> then we can store additional files which can contain this <em>metadata</em> without needed to worry about filename conflicts with the payload itself.
Now QIIME 2 is able to record a type and anything else that may enable the computer (or user) to make a more informed decision about the use of a given piece of data.</p>
<p>See <a class="reference internal" href="types.html#types-explanation"><span class="std std-ref">Semantic Types, Primitives, and Visualizations</span></a> to get more information on how types are used and defined in QIIME 2.</p>
</section>
<section id="interoperability-and-extension">
<h3>Interoperability and Extension<a class="headerlink" href="#interoperability-and-extension" title="Link to this heading">#</a></h3>
<p>QIIME 2 stores a string called a <a class="reference internal" href="../../back-matter/glossary.html#term-Directory-Format"><span class="xref std std-term">Directory Format</span></a> in <code class="docutils literal notranslate"><span class="pre">metadata.yaml</span></code> which instructs the computer what the specific layout of <code class="docutils literal notranslate"><span class="pre">/data/</span></code> is.
Once this is known, it is possible to convert that data into other formats.
<a class="reference internal" href="../../back-matter/glossary.html#term-Plugin"><span class="xref std std-term">plugins</span></a> can define new formats and request data in specific <a class="reference internal" href="../../back-matter/glossary.html#term-View"><span class="xref std std-term">views</span></a>.</p>
<p>Different tools expect different file formats or in-memory data structures.
Many of these are <em>semantically</em> compatible — in other words, they can carry the same information but in different ways.
Another way to state this is that these different formats and data-structures each represent a different <a class="reference internal" href="../../back-matter/glossary.html#term-View"><span class="xref std std-term">view</span></a> of the same data.</p>
<p>If we combine this idea with a <a class="reference internal" href="../../back-matter/glossary.html#term-Semantic-Type"><span class="xref std std-term">semantic type</span></a> we are able to use the abstraction of the type to ignore the view when reasoning about composition of <a class="reference internal" href="../../back-matter/glossary.html#term-Action"><span class="xref std std-term">actions</span></a>.
While the <a class="reference internal" href="../../back-matter/glossary.html#term-Semantic-Type"><span class="xref std std-term">semantic type</span></a> may be adequate for describing what data is used for, it does not provide a means to structure it (on-disk or in-memory).
For this we use a <a class="reference internal" href="../../back-matter/glossary.html#term-View"><span class="xref std std-term">view</span></a>.
In particular, when storing data for later use (or sharing) it is necessary to save it to disk in some way (in particular, we need to store it in <code class="docutils literal notranslate"><span class="pre">/data/</span></code>).
We use a <a class="reference internal" href="../../back-matter/glossary.html#term-Directory-Format"><span class="xref std std-term">directory format</span></a> to accomplish this purpose.
Directory formats have a name that is recorded in <code class="docutils literal notranslate"><span class="pre">metadata.yaml</span></code> and defines how <code class="docutils literal notranslate"><span class="pre">/data/</span></code> is to be structured.</p>
<p>See <a class="reference internal" href="formats.html#formats-explanation"><span class="std std-ref">File Formats and Directory Formats</span></a> to learn more about QIIME 2’s formats and directory formats.</p>
</section>
<section id="provenance-metadata">
<h3>Provenance Metadata<a class="headerlink" href="#provenance-metadata" title="Link to this heading">#</a></h3>
<p>Inside of each Archive, QIIME 2 stores metadata about how that archive was generated.
We call this “provenance”.
Notably, each Archive contains provenance information about <em>every</em> prior QIIME 2 <a class="reference internal" href="../../back-matter/glossary.html#term-Action"><span class="xref std std-term">Action</span></a> involved in its creation, from <code class="docutils literal notranslate"><span class="pre">import</span></code> to the most recent step in the analysis.</p>
<p>This provenance information includes type and format information, system and environment details, the Actions performed and all parameters passed to them, and all registered citations.</p>
<p>See <a class="reference internal" href="provenance.html#provenance-explanation"><span class="std std-ref">Decentralized retrospective provenance tracking</span></a> to learn more about data provenance storage in QIIME 2.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./framework/explanations"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="architecture.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">QIIME 2 architecture overview</p>
      </div>
    </a>
    <a class="right-next"
       href="archives.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Anatomy of an Archive</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#goals-for-data-storage-in-qiime-2">Goals for data storage in QIIME 2</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessibility-and-transferability">Accessibility and Transferability</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#input-validation-type-checking">Input Validation (Type Checking)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interoperability-and-extension">Interoperability and Extension</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#provenance-metadata">Provenance Metadata</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Greg Caporaso and Evan Bolyen
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>